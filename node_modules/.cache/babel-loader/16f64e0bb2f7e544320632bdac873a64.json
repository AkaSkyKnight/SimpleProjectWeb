{"ast":null,"code":"import _toConsumableArray from \"/home/devilgatsu/Desktop/SimpleProject-Fiap-Web-Development/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nvar ACTIVE_ITEMS_LIMIT = 1;\n\nvar chr8 = function chr8() {\n  return Math.random().toString(16).slice(-8);\n};\n\nvar AlertsManager = {\n  handler: null,\n  allItems: [],\n  activeItems: [],\n  add: function add(_ref) {\n    var message = _ref.message,\n        timeout = _ref.timeout;\n    var item = {\n      _id: \"\".concat(chr8(), \"-\").concat(chr8()),\n      timeout: timeout || 5 * 1000,\n      message: message\n    };\n    this.update([].concat(_toConsumableArray(this.allItems), [item]));\n    return item;\n  },\n  remove: function remove(alertId) {\n    this.update(this.allItems.filter(function (item) {\n      return item._id !== alertId;\n    }));\n  },\n  update: function update(allItems) {\n    this.allItems = allItems;\n    this.activeItems = allItems.slice(0, ACTIVE_ITEMS_LIMIT);\n\n    if (this.handler) {\n      this.handler(this.activeItems);\n    }\n  },\n  subscribe: function subscribe(handler) {\n    this.handler = handler;\n    this.handler(this.activeItems);\n  }\n};\nexport default AlertsManager;","map":{"version":3,"sources":["/home/devilgatsu/Desktop/SimpleProject-Fiap-Web-Development/src/alerts/manager.js"],"names":["ACTIVE_ITEMS_LIMIT","chr8","Math","random","toString","slice","AlertsManager","handler","allItems","activeItems","add","message","timeout","item","_id","update","remove","alertId","filter","subscribe"],"mappings":";AAAA,IAAMA,kBAAkB,GAAG,CAA3B;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO;AAAA,SAAMC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,KAA3B,CAAiC,CAAC,CAAlC,CAAN;AAAA,CAAb;;AAEA,IAAMC,aAAa,GAAG;AAEpBC,EAAAA,OAAO,EAAE,IAFW;AAIpBC,EAAAA,QAAQ,EAAK,EAJO;AAKpBC,EAAAA,WAAW,EAAE,EALO;AAOpBC,EAAAA,GAPoB,qBAOM;AAAA,QAApBC,OAAoB,QAApBA,OAAoB;AAAA,QAAXC,OAAW,QAAXA,OAAW;AACxB,QAAMC,IAAI,GAAG;AACXC,MAAAA,GAAG,YAASb,IAAI,EAAb,cAAmBA,IAAI,EAAvB,CADQ;AAEXW,MAAAA,OAAO,EAAEA,OAAO,IAAI,IAAI,IAFb;AAGXD,MAAAA,OAAO,EAAPA;AAHW,KAAb;AAMA,SAAKI,MAAL,8BAAgB,KAAKP,QAArB,IAA+BK,IAA/B;AAEA,WAAOA,IAAP;AACD,GAjBmB;AAmBpBG,EAAAA,MAnBoB,kBAmBbC,OAnBa,EAmBJ;AACd,SAAKF,MAAL,CAAY,KAAKP,QAAL,CAAcU,MAAd,CAAqB,UAAAL,IAAI;AAAA,aAAIA,IAAI,CAACC,GAAL,KAAaG,OAAjB;AAAA,KAAzB,CAAZ;AACD,GArBmB;AAuBpBF,EAAAA,MAvBoB,kBAuBbP,QAvBa,EAuBH;AACf,SAAKA,QAAL,GAAgBA,QAAhB;AACA,SAAKC,WAAL,GAAmBD,QAAQ,CAACH,KAAT,CAAe,CAAf,EAAkBL,kBAAlB,CAAnB;;AAEA,QAAI,KAAKO,OAAT,EAAkB;AAChB,WAAKA,OAAL,CAAa,KAAKE,WAAlB;AACD;AACF,GA9BmB;AAgCpBU,EAAAA,SAhCoB,qBAgCVZ,OAhCU,EAgCD;AACjB,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKA,OAAL,CAAa,KAAKE,WAAlB;AACD;AAnCmB,CAAtB;AAuCA,eAAeH,aAAf","sourcesContent":["const ACTIVE_ITEMS_LIMIT = 1\n\nconst chr8 = () => Math.random().toString(16).slice(-8)\n\nconst AlertsManager = {\n\n  handler: null,\n\n  allItems   : [],\n  activeItems: [],\n\n  add({ message, timeout }) {\n    const item = {\n      _id    : `${chr8()}-${chr8()}`,\n      timeout: timeout || 5 * 1000,\n      message,\n    }\n\n    this.update([...this.allItems, item])\n\n    return item\n  },\n\n  remove(alertId) {\n    this.update(this.allItems.filter(item => item._id !== alertId))\n  },\n\n  update(allItems) {\n    this.allItems = allItems\n    this.activeItems = allItems.slice(0, ACTIVE_ITEMS_LIMIT)\n\n    if (this.handler) {\n      this.handler(this.activeItems)\n    }\n  },\n\n  subscribe(handler) {\n    this.handler = handler\n    this.handler(this.activeItems)\n  },\n\n}\n\nexport default AlertsManager\n"]},"metadata":{},"sourceType":"module"}