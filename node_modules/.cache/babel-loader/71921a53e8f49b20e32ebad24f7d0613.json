{"ast":null,"code":"import _defineProperty from \"/home/devilgatsu/Documents/React.JS/backendless_react_example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/devilgatsu/Documents/React.JS/backendless_react_example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\nvar _reducersMap;\n\nimport t from '../action-types';\nimport { reduceReducers, loadReducer, reducersMap } from './helpers';\nvar initialState = {\n  list: []\n};\nvar personsReducer = reduceReducers(initialState, loadReducer(t.LOAD_PERSONS, function (state, action) {\n  return _objectSpread({}, state, {\n    list: action.result\n  });\n}), reducersMap((_reducersMap = {}, _defineProperty(_reducersMap, t.CREATE_PERSON_SUCCESS, function (state, action) {\n  return addPerson(state, action.result);\n}), _defineProperty(_reducersMap, t.UPDATE_PERSON, function (state, action) {\n  return updatePerson(state, action.person);\n}), _defineProperty(_reducersMap, t.UPDATE_PERSON_SUCCESS, function (state, action) {\n  return updatePerson(state, action.result);\n}), _defineProperty(_reducersMap, t.UPDATE_PERSON_FAIL, function (state, action) {\n  return updatePerson(state, action.prevPerson);\n}), _defineProperty(_reducersMap, t.REMOVE_PERSON_SUCCESS, function (state, action) {\n  return deletePerson(state, action.personId);\n}), _defineProperty(_reducersMap, t.ON_PERSON_CREATE, function (state, action) {\n  return addPerson(state, action.person);\n}), _defineProperty(_reducersMap, t.ON_PERSON_UPDATE, function (state, action) {\n  return updatePerson(state, action.person);\n}), _defineProperty(_reducersMap, t.ON_PERSON_REMOVE, function (state, action) {\n  return deletePerson(state, action.person.objectId);\n}), _reducersMap)));\n\nfunction addPerson(state, person) {\n  if (state.list.find(function (p) {\n    return p.objectId === person.objectId;\n  })) {\n    return state;\n  }\n\n  return _objectSpread({}, state, {\n    list: state.list.concat(person)\n  });\n}\n\nfunction updatePerson(state, person) {\n  return _objectSpread({}, state, {\n    list: state.list.map(function (p) {\n      return p.objectId === person.objectId ? person : p;\n    })\n  });\n}\n\nfunction deletePerson(state, personId) {\n  return _objectSpread({}, state, {\n    list: state.list.filter(function (person) {\n      return person.objectId !== personId;\n    })\n  });\n}\n\nexport default personsReducer;","map":{"version":3,"sources":["/home/devilgatsu/Documents/React.JS/backendless_react_example/src/store/reducers/persons.js"],"names":["t","reduceReducers","loadReducer","reducersMap","initialState","list","personsReducer","LOAD_PERSONS","state","action","result","CREATE_PERSON_SUCCESS","addPerson","UPDATE_PERSON","updatePerson","person","UPDATE_PERSON_SUCCESS","UPDATE_PERSON_FAIL","prevPerson","REMOVE_PERSON_SUCCESS","deletePerson","personId","ON_PERSON_CREATE","ON_PERSON_UPDATE","ON_PERSON_REMOVE","objectId","find","p","concat","map","filter"],"mappings":"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","sourcesContent":["import t from '../action-types'\nimport { reduceReducers, loadReducer, reducersMap } from './helpers'\n\nconst initialState = {\n  list: []\n};\n\nconst personsReducer = reduceReducers(initialState,\n  loadReducer(t.LOAD_PERSONS, (state, action) => ({\n    ...state,\n    list: action.result\n  })),\n\n  reducersMap({\n    [t.CREATE_PERSON_SUCCESS]: (state, action) => addPerson(state, action.result),\n\n    [t.UPDATE_PERSON]        : (state, action) => updatePerson(state, action.person),\n    [t.UPDATE_PERSON_SUCCESS]: (state, action) => updatePerson(state, action.result),\n    [t.UPDATE_PERSON_FAIL]   : (state, action) => updatePerson(state, action.prevPerson),\n\n    [t.REMOVE_PERSON_SUCCESS]: (state, action) => deletePerson(state, action.personId),\n\n    [t.ON_PERSON_CREATE]: (state, action) => addPerson(state, action.person),\n    [t.ON_PERSON_UPDATE]: (state, action) => updatePerson(state, action.person),\n    [t.ON_PERSON_REMOVE]: (state, action) => deletePerson(state, action.person.objectId)\n  })\n);\n\nfunction addPerson(state, person) {\n  if (state.list.find(p => p.objectId === person.objectId)) {\n    return state\n  }\n\n  return {\n    ...state,\n    list: state.list.concat(person)\n  }\n}\n\nfunction updatePerson(state, person) {\n  return {\n    ...state,\n    list: state.list.map(p => p.objectId === person.objectId ? person : p)\n  }\n}\n\nfunction deletePerson(state, personId) {\n  return {\n    ...state,\n    list: state.list.filter(person => person.objectId !== personId)\n  }\n}\n\nexport default personsReducer\n"]},"metadata":{},"sourceType":"module"}